<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>IELTS Listening Test 1 – Section 1</title>

<!-- 载入 Premium Test1 的题库 -->
<script src="questions.js"></script>

<style>
    body {
        font-family: Arial, sans-serif;
        max-width: 760px;
        margin: auto;
        padding: 25px;
        line-height: 1.6;
    }

    h1 {
        text-align: center;
        font-weight: bold;
        margin-bottom: 30px;
    }

    .inst-block {
        background: #f7f7f7;
        border-left: 4px solid #333;
        padding: 18px;
        margin: 20px 0;
    }

    .inst-title {
        font-weight: bold;
        font-size: 18px;
        margin-bottom: 10px;
    }

    .audio-box {
        margin: 25px 0;
    }

    .question {
        margin-top: 18px;
        font-weight: bold;
    }

    input[type="text"] {
        width: 100%;
        padding: 8px;
        margin-top: 6px;
        font-size: 15px;
    }

    .options {
        margin-left: 20px;
        margin-top: 6px;
    }

    .submit-btn {
        display: block;
        width: 100%;
        background: black;
        color: white;
        padding: 12px;
        margin-top: 25px;
        font-size: 18px;
        cursor: pointer;
        border: none;
    }

    #result {
        display: none;
        margin-top: 35px;
        padding: 20px;
        border: 2px solid #eee;
        background: #fafafa;
        font-size: 18px;
        text-align: center;
    }
</style>

</head>
<body>

<h1>IELTS Listening Test 1 – Section 1</h1>

<!-- SECTION 1 Instructions -->
<div class="inst-block">
    <div class="inst-title">SECTION 1 — Questions 1–10</div>

    <p>You will hear a conversation between a staff member and a parent registering a child for a programme.</p>

    <p><strong>Answer the questions as instructed.</strong></p>

    <ul>
        <li>Write <strong>NO MORE THAN TWO WORDS AND/OR A NUMBER</strong> for each answer.</li>
        <li>For multiple-choice questions, choose the correct letter <strong>A, B or C</strong>.</li>
    </ul>

    <p>You will hear the recording <strong>once only</strong>.</p>
</div>

<!-- 音频播放器 -->
<div class="audio-box">
    <audio id="audioPlayer" controls style="width: 100%"></audio>
</div>

<!-- Questions 1–6 -->
<div class="inst-block">
    <div class="inst-title">Questions 1–6</div>
    <p>Write <strong>NO MORE THAN TWO WORDS AND/OR A NUMBER</strong> for each answer.</p>
</div>

<form id="testForm"></form>

<!-- Questions 7–10 -->
<div class="inst-block">
    <div class="inst-title">Questions 7–10</div>
    <p>Choose the correct letter <strong>A, B or C</strong>.</p>
</div>

<button class="submit-btn" onclick="submitAnswers()">Submit Answers</button>

<div id="result"></div>

<script>
/* 载入 Premium Test1 Section1 数据 */
const section = window.PREMIUM_TEST1.section1;

/* 设置音频 */
document.getElementById("audioPlayer").src = section.audio;

/* 渲染题目 */
const form = document.getElementById("testForm");

section.questions.forEach((q) => {
    let html = `<div class="question">${q.number}. ${q.question}</div>`;

    if (q.type === "blank") {
        html += `<input type="text" id="q${q.number}" />`;
    }

    if (q.type === "mcq") {
        html += `<div class="options">`;
        q.options.forEach((opt) => {
            html += `
                <label>
                    <input type="radio" name="q${q.number}" value="${opt}"> ${opt}
                </label><br>
            `;
        });
        html += `</div>`;
    }

    form.innerHTML += html;
});

/* 提交答案评分 */
function submitAnswers() {
    let score = 0;

    section.questions.forEach((q) => {
        const id = "q" + q.number;

        let userAnswer = "";

        if (q.type === "blank") {
            userAnswer = document.getElementById(id).value.trim().toLowerCase();
        }

        if (q.type === "mcq") {
            const checked = document.querySelector(`input[name="${id}"]:checked`);
            if (checked) userAnswer = checked.value.trim();
        }

        const correct = q.answer.trim().toLowerCase();

        if (userAnswer === correct) score++;
    });

    document.getElementById("result").style.display = "block";
    document.getElementById("result").innerHTML =
        `<strong>Your Score: ${score} / ${section.questions.length}</strong><br><br>
        Thank you for completing the Section 1 listening test.`;
}
</script>

</body>
</html>

